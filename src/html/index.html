<script>
  console.log(
    "You can access the app state at Alpine.app.state in javascript: \n\n",
    JSON.stringify(Alpine.app.state, null, 2),
  );
  console.log(
    "Try Alpine.app.state.valueKey = 'newValue' to change the valueKey value",
  );

  Alpine.app.event.buttonClicked = () => {
    Alpine.app.state.clickNum++;
    console.log("Button clicked");
  };
</script>

<h1>Props</h1>
<!-- Declare a proprety and it will sync the innerText of the element -->
<div x-sync="valueKey"></div>
<div x-sync="valueKeyWithDefaultString:'defaultString'"></div>
<div x-sync="valueKeyWithDefaultNumber:42"></div>
<div x-sync="valueKeyWithDefaultInnerText">default inner text</div>

<!-- input tags sync the value property insteaf of the innerText -->
<input x-sync="inputValue" value="initialvalue" />
<hr />

<h1>Components</h1>
<!-- Create component -->
<template x-component="person">
  <div>
    <!-- Strings must be between '' -->
    <div x-sync="name:'Default Name Value'"></div>
    <div x-sync="email">inlinedefault@email.com</div>
    <div x-sync="age:14"></div>
  </div>
</template>

<!-- Spawn created component -->
<h2>Person 1</h2>
<c-person></c-person>

<hr />
<!-- Any subsequent components will share the same data from the -->
<!-- root of the state unless you scope it like bellow -->
<h2>Person 2</h2>
<c-person></c-person>

<hr />
<h2>Person 3: Scoped</h2>
<!-- Spawn created component within a scope -->
<!-- You can declare more than one prop separating them by , -->
<c-person
  data-scope="scopedPerson"
  x-sync="name:'Different Name',email:'person3@email.com'"
></c-person>

<hr />
<h1>x-scope</h1>
<!-- using x-scope instead of data-scope and the scopes are -->
<!-- automatically nested -->
<div x-scope="nested">
  <div x-scope="scope">
    <div
      x-sync="variable.path:'x-scope nests the scope with the outer scope'"
    ></div>
  </div>
</div>

<hr />
<h1>x-import</h1>
<!-- Import conent. The server should respond with the html -->
<!-- at /example-component in this case -->
<x-import from="example-component"></x-import>

<!-- Because the html imported above creates a component we can spawn it -->
<example-component></example-component>

<hr />
<h1>x-each</h1>
<!-- Use x-each to go over an Array and pass the current value as context -->
<!-- the default value after : is optional too -->
<ul>
  <template x-each="path.to.array:[{itemText: 'first'}, {itemText: 'second'}]">
    <li x-sync="itemText"></li>
  </template>
</ul>

<hr />
<h1>x-event</h1>
<button x-event="click:buttonClicked">BUTTON</button>
Clicked <span x-sync="clickNum:0"></span> times

<hr />
<h1>routing</h1>
<a href="/another-page">Change page</a>
